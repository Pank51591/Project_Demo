//************************************************************
//  Copyright (c)  
//	FileName	  : main.c
//	Function	  : Main Function
//  Instructions  : Contains the MCU initialization function and its H file
//************************************************************
/********************Includes************************************************************************/
#include "SC_Init.h"	// MCU initialization header file, including all firmware library header files
#include "SC_it.h"
#include "..\Drivers\SCDriver_list.h"
#include "HeadFiles\SysFunVarDefine.h"
/**************************************Generated by EasyCodeCube*************************************/


/*************************************.Generated by EasyCodeCube.************************************/
/*****************************************************************************************************
* Function Name: main
* Description  : This function implements main function.
* Arguments    : None
* Return Value : None
******************************************************************************************************/
void main(void)
{	
    /*** MCU init***/
    SC_Init();
    /*<Generated by EasyCodeCube begin>*/

/*<UserCodeStart>*//*<SinOne-Tag><9>*/
    TouchKeyInit();
    /*<UserCodeEnd>*//*<SinOne-Tag><9>*/
/*<UserCodeStart>*//*<SinOne-Tag><10>*/
    while(1)
    {
            /*<UserCodeStart>*//*<SinOne-Tag><55>*/
        if(GetLowPowerScanFlag())
        {
                    /*<UserCodeStart>*//*<SinOne-Tag><56>*/
            LowPower_Touchkey_Scan();
            /*<UserCodeEnd>*//*<SinOne-Tag><56>*/
}
        /*<UserCodeEnd>*//*<SinOne-Tag><55>*/
/*<UserCodeStart>*//*<SinOne-Tag><57>*/
        else
        {
                    /*<UserCodeStart>*//*<SinOne-Tag><14>*/
            if(SOCAPI_TouchKeyStatus & 0x80)
            {
                            /*<UserCodeStart>*//*<SinOne-Tag><22>*/
                SOCAPI_TouchKeyStatus &= 0x7f;
                /*<UserCodeEnd>*//*<SinOne-Tag><22>*/
/*<UserCodeStart>*//*<SinOne-Tag><18>*/
                exKeyValueFlag = TouchKeyScan();
                /*<UserCodeEnd>*//*<SinOne-Tag><18>*/
/*<UserCodeStart>*//*<SinOne-Tag><65>*/
                if(exKeyValueFlag == 0 )
                {
                    TK_NoKeyCount ++;
                    if(TK_NoKeyCount  > 100)
                    {
                        TK_NoKeyCount  = 0;
                        TouchKey_IntoLowPowerMode();
                    }
                }
                else
                {
                    TK_NoKeyCount = 0;
                }
                /*<UserCodeEnd>*//*<SinOne-Tag><65>*/
/*<UserCodeStart>*//*<SinOne-Tag><35>*/
                UserCode();
                /*<UserCodeEnd>*//*<SinOne-Tag><35>*/
/*<UserCodeStart>*//*<SinOne-Tag><36>*/
                TouchKeyRestart();
                /*<UserCodeEnd>*//*<SinOne-Tag><36>*/
}
            /*<UserCodeEnd>*//*<SinOne-Tag><14>*/
}
        /*<UserCodeEnd>*//*<SinOne-Tag><57>*/
}
    /*<UserCodeEnd>*//*<SinOne-Tag><10>*/
/*<Generated by EasyCodeCube end>*/
}
